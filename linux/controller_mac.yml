# ~/.tmuxinator/controller.yml

name: controller_mac
root: ~/

# Optional. tmux socket
# socket_name: foo

# Runs before everything. Use it to start daemons etc.
# pre: sudo /etc/rc.d/mysqld start

# Runs in each window and pane before window/pane specific commands. Useful for setting up interpreter versions.
# pre_window: rbenv shell 2.0.0-p247

# Pass command line options to tmux. Useful for specifying a different tmux.conf.
# tmux_options: -f ~/.tmux.mac.conf

# Change the command to call tmux.  This can be used by derivatives/wrappers like byobu.
# tmux_command: byobu

#Creates 1 tmux session with
#	#Window 1 - Overral System Attributes | I/O Statistics | Mifare Statistics
#		#Pane 1 - Top (Command)
#		#Pane 2 - watch disk space
#		#Pane 3 - Mifare daemon
#		#Pane 4 - GPIO
#	#Window 2 - Quiz Interface
#	#Window 3 - Server Interface
#		#Pane 1 - startup_website.sh --> Node script
#		#Pane 2 - mongod
#		#Pane 3 - mongo
#	#Window 4 - Server Interface 2
#		#Pane 1 - node.js file server at ~/ with http-server
#	#Window 5 - Development Interface
#		#Pane 1 - Git

windows:
  - node1:
      layout: tiled
      panes:
        - sleep 10; ssh root@beaglenode1; cd ~/rfidquizstash; echo BB-UART1 > /sys/devices/bone_capemgr*/slots; cp ~/rfidquizgame/mifare/app.js ~/rfidquizstash/app_mifare.js; node app_mifare.js
        - sleep 10; ssh root@beaglenode1; cd ~/rfidquizstash; ~/rfidquizgame/mongodb/startup_mongo.sh
        - sleep 10; ssh root@beaglenode1; cd ~/rfidquizgame; git pull
  - node1:
      layout: tiled
      panes:
        - sleep 10; ssh root@beagleserver; cd ~/rfidquizstash; cp ~/rfidquizgame/mifare/app.js ~/rfidquizstash/app_mifare.js; node app_mifare.js
        - sleep 10; ssh root@beagleserver; cd ~/rfidquizstash; ~/rfidquizgame/mongodb/startup_mongod.sh
        - sleep 10; ssh root@beagleserver; cd ~/rfidquizstash; ~/rfidquizgame/mongodb/startup_mongo.sh
        - sleep 10; ssh root@beagleserver; cd ~/rfidquizgame; git pull
  - node1:
      layout: tiled
      panes:
        - sleep 10; ssh root@beaglenode2; cd ~/rfidquizstash; echo BB-UART1 > /sys/devices/bone_capemgr*/slots; cp ~/rfidquizgame/mifare/app.js ~/rfidquizstash/app_mifare.js; node app_mifare.js
        - sleep 10; ssh root@beaglenode2; cd ~/rfidquizstash; ~/rfidquizgame/mongodb/startup_mongo.sh
        - sleep 10; ssh root@beaglenode2; cd ~/rfidquizgame; git pull
  - serv1:
      layout: main-vertical
      panes:
        - cd ~/rfidquizstash; ~/rfidquizgame/mongodb/startup_mongo.sh
  - dev:
      layout: main-vertical
      panes:
        - cd ~/rfidquizgame; top
        - cd ~/rfidquizgame; setup/depreciated/git_update.sh
